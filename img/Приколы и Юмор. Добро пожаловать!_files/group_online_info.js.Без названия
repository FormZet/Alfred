!function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,n,t){e.exports=t(70)},7:function(e,n){"use strict";function t(e){for(var n=e,t=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],o=["ё","ж","х","ц","ч","щ","щ","ш","э","ю","я","Ё","Ж","Х","Ц","Ч","Щ","Щ","Ш","Э","Ю","Я","ь"],r=0,a=t.length;a>r;r++)n=n.split(t[r]).join(o[r]);for(var i="abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ",s="абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ",r=0,a=i.length;a>r;r++)n=n.split(i.charAt(r)).join(s.charAt(r));return n==e?null:n}function o(e){var n,t=e,o=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],r=["ё","ж","х","ц","ч","щ","щ","ш","э","ю","я","Ё","Ж","Х","Ц","Ч","Щ","Щ","Ш","Э","Ю","Я","ь"],a="abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ",i="абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ";for(n=0;n<r.length;n++)t=t.split(r[n]).join(o[n]);for(n=0;n<i.length;n++)t=t.split(i.charAt(n)).join(a.charAt(n));return t==e?null:t}function r(e){var n,t=e,o="qwertyuiop[]asdfghjkl;'zxcvbnm,./`",r="йцукенгшщзхъфывапролджэячсмитьбю.ё";for(n=0;n<o.length;n++)t=t.split(o.charAt(n)).join(r.charAt(n));return t==e?null:t}function a(e,n,t){if(!n||!window.langConfig)return e;var o;if(isArray(n)?(o=n[1],e!=Math.floor(e)?o=n[langConfig.numRules["float"]]:each(langConfig.numRules["int"],function(t,r){if("*"==r[0])return o=n[r[2]],!1;var a=r[0]?e%r[0]:e;return-1!=indexOf(r[1],a)?(o=n[r[2]],!1):void 0})):o=n,t){for(var r=e.toString().split("."),a=[],i=r[0].length-3;i>-3;i-=3)a.unshift(r[0].slice(i>0?i:0,i+3));r[0]=a.join(langConfig.numDel),e=r.join(langConfig.numDec)}return o=(o||"%s").replace("%s",e)}function i(e,n){if(!isArray(n))return n;var t=n[1];return window.langConfig?(each(langConfig.sexRules,function(o,r){return"*"==r[0]?(t=n[r[1]],!1):e==r[0]&&n[r[1]]?(t=n[r[1]],!1):void 0}),t):t}function s(e){for(var n=e+"",t=arguments,o=t.length,r=1;o>r;r+=2){var a="%"==t[r][0]?t[r]:"{"+t[r]+"}";n=n.replace(a,t[r+1])}return n}function l(e,n){var t=n?window:window.cur;t.lang?extend(t.lang,e):t.lang=e}function u(){try{var e=Array.prototype.slice.call(arguments),n=e.shift();if(!n)return"...";var t=window.cur.lang&&window.cur.lang[n]||window.lang&&window.lang[n]||window.langpack&&window.langpack[n]||window[n];if(!t){var o=n.split("_");return o.shift(),o.join(" ")}return isFunction(t)?t.apply(null,e):void 0===e[0]&&!isArray(t)||"raw"===e[0]?t:a(e[0],t,e[1])}catch(r){debugLog("lang error:"+r.message+"("+Array.prototype.slice.call(arguments).join(", ")+")")}}function c(e,n,t,o,r,a){var i;if(a||(a=""),isArray(n)||(n=["",n,n,n,n]),"number"==typeof e||"string"==typeof e?(e>2147483646e3&&(e=0),e+=t,i=new Date(e)):i=e,r)n=n[1];else{var s="";s=isToday(i)?n[3]:isYesterday(i)?n[2]:isTomorrow(i)?n[4]:n[1],!s&&n[1]&&(s=n[1]),n=s}var l="",u={hours:i.getHours(),minutes:i.getMinutes(),seconds:i.getSeconds(),day:i.getDate(),month:i.getMonth()+1,year:i.getFullYear()};switch(3===vk.lang&&(l=i.getHours()>11?"pm":"am",u.hours=i.getHours()%12==0?12:i.getHours()%12),vk.lang){case 1:switch(i.getHours()){case 11:n=n.replace(" о "," об ");break;case 0:n=n.replace(" о "," в ")}break;case 3:!isToday(i)||isYesterday(i)||isTomorrow(i)||(n=a+n);break;case 12:case 73:1==i.getHours()&&(n=n.replace(" &#224;s "," &#224; "))}return 68===vk.lang&&(u.year=u.year+543),n.replace("{hour}",u.hours).replace("{num_hour}",leadingZero(u.hours)).replace("{minute}",leadingZero(u.minutes)).replace("{day}",u.day).replace("{num_day}",leadingZero(u.day)).replace("{month}",o[u.month]).replace("{year}",u.year).replace("{short_year}",u.year%100).replace("{second}",leadingZero(u.seconds)).replace("{am_pm}",l)}function h(e,n,t,o,r){e*=1e3,"undefined"==typeof t&&(t=!0),"undefined"==typeof o&&(o=u("months_of","raw")),n*=1e3;var a=Date.now(),i=new Date(a),s=new Date(e+n);return!r&&e>a&&864e5>e-a&&i.getDate()==s.getDate()?c(e,"{hour}:{minute} {am_pm}",n,[],!t):s.getYear()!=i.getYear()||a-157248e5>e?c(e,u("global_date","raw"),n,o,!t):c(e,u("global_short_date","raw"),n,o,!t)}function f(e,n,t,o){return isToday(new Date(1e3*e+1e3*n))?c(1e3*e,"{hour}:{minute} {am_pm}",1e3*n,[],!t):h(e,n,t,o)}function d(e,n,t){return isArray(n)&&e<n.length?n[e]:a(e,t)}function g(e,n){var t="";e+=n;var o=parseInt(Date.now()/1e3)-e;if(60>o)t=u("global_just_now");else if(3600>o){var r=intval(o/60);t=d(r,u("global_word_mins_ago","raw"),u("global_mins_ago","raw"))}else if(14400>o){var a=intval(o/3600);t=d(a,u("global_word_hours_ago","raw"),u("global_hours_ago","raw"))}else t=p(e,0,!0,"_l");return t}function p(e,n,t,o){"undefined"==typeof t&&(t=!0),"undefined"==typeof n&&(n=0),"undefined"==typeof o&&(o=""),n*=1e3;var r=new Date(1e3*e),a=new Date;return r.getFullYear()!=a.getFullYear()&&r.getTime()<a.getTime()-1728e5||Math.abs(r.getTime()-a.getTime())>157248e5?c(1e3*e,u("global_date","raw"),n,u("months_sm_of"),!t):c(1e3*e,u("global_short_date_time"+o,"raw"),n,u("months_sm_of"),!t)}function w(e,n,t){"undefined"==typeof t&&(t=!0),"undefined"==typeof n&&(n=0);var o=new Date,r=o.getFullYear(),a=o.getMonth(),i=new Date(1e3*e),s=i.getFullYear(),l=i.getMonth();return r>s&&(a>1||9>l||r-s>=2)?c(1e3*e,u("global_date","raw"),n,u("months_sm_of","raw"),!t):c(1e3*e,u("global_short_date_time","raw"),n,u("months_sm_of","raw"),!t)}Object.defineProperty(n,"__esModule",{value:!0}),n.parseLatin=t,n.parseCyr=o,n.parseLatKeys=r,n.langNumeric=a,n.langSex=i,n.langStr=s,n.addLangKeys=l,n.getLang=u,n.langDate=c,n.getShortDate=h,n.getShortDateOrTime=f,n.langWordNumeric=d,n.getDateText=g,n.getBigDateNew=p,n.getSmDate=w,window.parseLatin=t,window.parseCyr=o,window.parseLatKeys=r,window.langNumeric=a,window.langSex=i,window.langStr=s,window.addLangKeys=l,window.getLang=u,window.langDate=c,window.getShortDate=h,window.getShortDateOrTime=f,window.langWordNumeric=d,window.getDateText=g,window.getBigDateNew=p,window.getSmDate=w},70:function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var r=t(7);window.GroupOnline=function(){function e(n,t,r,a){var i=this;o(this,e),this.elements=this.elements||{},this.elements.groupOnlineInfoStatusBlock=ge("group_online_block"),this.elements.groupOnlineInfoAnswerBlock=ge("group_online_answer_block"),this.checkStatusGroupInfoFailedCounter=0,this.checkStatusGroupInfoFailedCounterMax=5,this.checkStatusGroupInfoTimer=this.setCheckStatusGroupInfoInterval(n,t,r,a),this.initBack(n,t,r,a),cur.nav.push(function(){i.cleanCheckStatusGroupInfoInterval()})}return e.prototype.initBack=function(e,n,t,o){var r=this;cur._back={loc:!1,show:[function(){r.reInitStatusCheck(e,n,t,o)}],hide:[],text:"GroupOnline"}},e.prototype.reInitStatusCheck=function(e,n,t,o){this.constructor(e,n,t,o),this.checkStatusGroupInfo(e,n,t)},e.prototype.setCheckStatusGroupInfoInterval=function(e,n,t,o){var r=this;return setInterval(function(){r.checkStatusGroupInfo(e,n,t)},o)},e.prototype.cleanCheckStatusGroupInfoInterval=function(){this.checkStatusGroupInfoTimer&&(clearInterval(this.checkStatusGroupInfoTimer),this.checkStatusGroupInfoTimer=null)},e.prototype.checkStatusGroupInfo=function(e,n,t){var o=this;if("undefined"!=typeof this.checkStatusGroupInfoFailedCounter&&this.checkStatusGroupInfoFailedCounterMax&&this.checkStatusGroupInfoFailedCounter>=this.checkStatusGroupInfoFailedCounterMax)return this.cleanCheckStatusGroupInfoInterval(),this.hideInfoStatusBlock(),void this.hideInfoAnswerBlock();var r={group_id:e,user_id:n,hash:t};ajax.post("/al_groups.php?act=group_online_check_status",r,{onDone:function(e){o.checkStatusGroupInfoOnComplete(e)},onFail:function(e){o.checkStatusGroupInfoOnComplete(e)}})},e.prototype.checkStatusGroupInfoOnComplete=function(e){if(!e||!e.ok){if("undefined"!=typeof this.checkStatusGroupInfoFailedCounter&&this.checkStatusGroupInfoFailedCounter++,e&&e.data&&("error_flood"===e.data||"error_access_ans"===e.data))return;return this.hideInfoStatusBlock(),void this.hideInfoAnswerBlock()}"undefined"!=typeof this.checkStatusGroupInfoFailedCounter&&(this.checkStatusGroupInfoFailedCounter=0);var n=e.data?e.data.is_online:!1,t=e.data&&e.data.answer_time?e.data.answer_time:!1;return n?(this.showInfoStatusBlock(),void this.hideInfoAnswerBlock()):(this.hideInfoStatusBlock(),t?void this.showInfoAnswerBlock(t):void this.hideInfoAnswerBlock())},e.prototype.showInfoStatusBlock=function(){hasClass(this.elements.groupOnlineInfoStatusBlock,"group_online_block_hidden")&&(slideDown(this.elements.groupOnlineInfoStatusBlock,200),removeClass(this.elements.groupOnlineInfoStatusBlock,"group_online_block_hidden"))},e.prototype.hideInfoStatusBlock=function(){hasClass(this.elements.groupOnlineInfoStatusBlock,"group_online_block_hidden")||(slideUp(this.elements.groupOnlineInfoStatusBlock,200),addClass(this.elements.groupOnlineInfoStatusBlock,"group_online_block_hidden"))},e.prototype.showInfoAnswerBlock=function(e){if(hasClass(this.elements.groupOnlineInfoAnswerBlock,"group_online_answer_block_hidden")){var n=(0,r.langStr)(getLang("groups_online_answer_mark_time",e),"time",e);ge("group_online_answer_status_description").innerHTML=n,slideDown(this.elements.groupOnlineInfoAnswerBlock,200),removeClass(this.elements.groupOnlineInfoAnswerBlock,"group_online_answer_block_hidden")}},e.prototype.hideInfoAnswerBlock=function(){hasClass(this.elements.groupOnlineInfoAnswerBlock,"group_online_answer_block_hidden")||(slideUp(this.elements.groupOnlineInfoAnswerBlock,200),addClass(this.elements.groupOnlineInfoAnswerBlock,"group_online_answer_block_hidden"))},e}();try{stManager.done(jsc("web/group_online_info.js"))}catch(a){}}});